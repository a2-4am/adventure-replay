;license:MIT
;(c) 2023 by 4am
;
; common savegame routines
;
; caller must define
; - SAVEGAME
; - move_savegame_start
; - move_savegame_end
;

; exits with X=0
!macro INSTALL_SAVEGAME {
         ; copy savegame code into place
         ldx   #(move_savegame_end - move_savegame_start)
-        lda   move_savegame_start-1, x
         sta   SAVEGAME-1, x
         dex
         bne   -
}
